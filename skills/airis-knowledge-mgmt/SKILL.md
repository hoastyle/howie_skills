---
name: airis-knowledge-mgmt
description: çŸ¥è¯†å›¾è°±ç®¡ç†åŠ©æ‰‹ï¼Œä½¿ç”¨ Memory MCP åˆ›å»ºå®ä½“å’Œå…³ç³»æ„å»ºçŸ¥è¯†å›¾è°±ï¼Œä½¿ç”¨ Serena MCP ç®¡ç†é¡¹ç›®è®°å¿†æ–‡ä»¶ã€‚æ”¯æŒåŒè·¯å¾„çŸ¥è¯†ç®¡ç†ï¼šç»“æ„åŒ–çŸ¥è¯†å›¾è°±ï¼ˆå®ä½“-å…³ç³»ï¼‰å’Œæ–‡æ¡£åŒ–é¡¹ç›®è®°å¿†ã€‚é€‚ç”¨äºé¡¹ç›®çŸ¥è¯†æ•´ç†ã€æ¦‚å¿µå…³ç³»æ¢³ç†ã€ä¼šè¯è®°å¿†ä¿å­˜ã€æŠ€æœ¯æ–‡æ¡£ç®¡ç†ç­‰åœºæ™¯ã€‚
---

# AIRIS Knowledge Management Helper

**MCP æœåŠ¡å™¨**: memory, serena
**å¤æ‚åº¦**: medium
**é¢„ä¼°è¡Œæ•°**: 260

---

## ğŸ¯ è§¦å‘æ¡ä»¶

### ä½•æ—¶ä½¿ç”¨è¿™ä¸ª Skill

**ä¸»è¦åœºæ™¯**:
- **çŸ¥è¯†å›¾è°±æ„å»º**: åˆ›å»ºæ¦‚å¿µã€ç»„ä»¶ã€äººå‘˜ã€äº§å“ç­‰å®ä½“åŠå…¶å…³ç³»
- **é¡¹ç›®çŸ¥è¯†æ•´ç†**: ä¿å­˜æ¶æ„å†³ç­–ã€æŠ€æœ¯é€‰å‹ã€æœ€ä½³å®è·µåˆ°é¡¹ç›®è®°å¿†
- **æ¦‚å¿µå…³ç³»æ¢³ç†**: ç†æ¸…å¤æ‚ç³»ç»Ÿä¸­çš„ä¾èµ–å…³ç³»ã€åŒ…å«å…³ç³»ã€å®ç°å…³ç³»
- **ä¼šè¯è®°å¿†ä¿å­˜**: ä¿å­˜é‡è¦å¯¹è¯å†…å®¹ã€å†³ç­–è¿‡ç¨‹åˆ°é•¿æœŸè®°å¿†
- **æŠ€æœ¯æ–‡æ¡£ç®¡ç†**: ç³»ç»ŸåŒ–ç®¡ç†æŠ€æœ¯æ–‡æ¡£ã€å­¦ä¹ ç¬”è®°ã€ç ”ç©¶æŠ¥å‘Š

**å…³é”®è¯è§¦å‘**:
- "åˆ›å»ºçŸ¥è¯†å›¾è°±"ã€"å»ºç«‹å…³ç³»"ã€"ä¿å­˜çŸ¥è¯†"
- "è®°å½•åˆ°è®°å¿†"ã€"ä¿å­˜ç¬”è®°"ã€"æ•´ç†æ–‡æ¡£"
- "åˆ›å»ºå®ä½“"ã€"æ·»åŠ å…³ç³»"ã€"æŸ¥è¯¢çŸ¥è¯†"
- "é¡¹ç›®è®°å¿†"ã€"é•¿æœŸè®°å¿†"

**å…¸å‹ç”¨æˆ·è¯·æ±‚**:
```
"åˆ›å»ºä¸€ä¸ªçŸ¥è¯†å›¾è°±ï¼Œè®°å½•å¾®æœåŠ¡æ¶æ„ä¸­çš„å„ä¸ªç»„ä»¶åŠå…¶ä¾èµ–å…³ç³»"
"ä¿å­˜ä»Šå¤©çš„æ¶æ„å†³ç­–è®¨è®ºåˆ°é¡¹ç›®è®°å¿†"
"å»ºç«‹ React å’Œ Next.js çš„å…³ç³»ï¼ŒNext.js æ˜¯åŸºäº React çš„æ¡†æ¶"
"æ•´ç†å­¦ä¹ ç¬”è®°ï¼Œè®°å½• TypeScript çš„æ ¸å¿ƒæ¦‚å¿µ"
```

---

## ğŸ“‹ åŒè·¯å¾„å·¥ä½œæµ

### è·¯å¾„é€‰æ‹©å†³ç­–

```
ç”¨æˆ·éœ€æ±‚
    â”‚
    â”œâ”€ éœ€è¦ç»“æ„åŒ–å…³ç³»ï¼ˆå®ä½“-å…³ç³»å›¾è°±ï¼‰ï¼Ÿ
    â”‚   YES â†’ è·¯å¾„ 1: Memory MCP (çŸ¥è¯†å›¾è°±)
    â”‚
    â”œâ”€ éœ€è¦æ–‡æ¡£åŒ–ä¿å­˜ï¼ˆé•¿æ–‡æœ¬ã€ç¬”è®°ï¼‰ï¼Ÿ
    â”‚   YES â†’ è·¯å¾„ 2: Serena MCP (é¡¹ç›®è®°å¿†)
    â”‚
    â””â”€ ä¸¤è€…éƒ½éœ€è¦ï¼Ÿ
        â†’ ç»„åˆä½¿ç”¨ï¼šMemory å­˜å…³ç³» + Serena å­˜è¯¦ç»†æ–‡æ¡£
```

---

## ğŸ“‹ è·¯å¾„ 1: çŸ¥è¯†å›¾è°±ï¼ˆMemory MCPï¼‰

### Phase 1: åˆ›å»ºå®ä½“

**åŠŸèƒ½**: åˆ›å»ºçŸ¥è¯†å›¾è°±ä¸­çš„å®ä½“ï¼ˆæ¦‚å¿µã€ç»„ä»¶ã€äººå‘˜ç­‰ï¼‰

**âš ï¸ å…³é”®é™·é˜±ï¼šobservations å­—æ®µå¿…éœ€**

```typescript
// âŒ é”™è¯¯ï¼šç¼ºå°‘ observations
await airis-exec({
  tool: "memory:create_entities",
  arguments: {
    entities: [
      {
        name: "React",
        entityType: "Framework"
      }
    ]
  }
});
// Error: 'observations' is required

// âœ… æ­£ç¡®ï¼šåŒ…å« observations
await airis-exec({
  tool: "memory:create_entities",
  arguments: {
    entities: [
      {
        name: "React",
        entityType: "Framework",
        observations: [
          "React æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“",
          "ç”± Facebook å¼€å‘å’Œç»´æŠ¤",
          "ä½¿ç”¨è™šæ‹Ÿ DOM æå‡æ€§èƒ½"
        ]
      }
    ]
  }
});
```

**å‚æ•°è¯´æ˜**:
- `entities` (å¿…éœ€) - å®ä½“æ•°ç»„
  - `name` (å¿…éœ€) - å®ä½“åç§°ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰
  - `entityType` (å¿…éœ€) - å®ä½“ç±»å‹ï¼ˆConcept, Component, Person, Product ç­‰ï¼‰
  - `observations` (å¿…éœ€) - è§‚å¯Ÿ/æè¿°æ•°ç»„ï¼ˆè‡³å°‘ 1 ä¸ªï¼‰

**æ”¯æŒçš„å®ä½“ç±»å‹**:
- `Concept` - æŠ½è±¡æ¦‚å¿µï¼ˆå¦‚"å¾®æœåŠ¡æ¶æ„"ã€"RESTful API"ï¼‰
- `Component` - ç³»ç»Ÿç»„ä»¶ï¼ˆå¦‚"UserService"ã€"AuthModule"ï¼‰
- `Person` - äººå‘˜ï¼ˆå¦‚"é¡¹ç›®è´Ÿè´£äºº"ã€"å¼€å‘è€…"ï¼‰
- `Product` - äº§å“/å·¥å…·ï¼ˆå¦‚"React"ã€"TypeScript"ï¼‰
- `Document` - æ–‡æ¡£ï¼ˆå¦‚"æ¶æ„è®¾è®¡æ–‡æ¡£"ã€"API è§„èŒƒ"ï¼‰

**æ‰¹é‡åˆ›å»ºç¤ºä¾‹**:
```typescript
await airis-exec({
  tool: "memory:create_entities",
  arguments: {
    entities: [
      {
        name: "UserService",
        entityType: "Component",
        observations: [
          "è´Ÿè´£ç”¨æˆ·è®¤è¯å’Œæˆæƒ",
          "æä¾› REST API æ¥å£",
          "ä½¿ç”¨ JWT è¿›è¡Œä¼šè¯ç®¡ç†"
        ]
      },
      {
        name: "Database",
        entityType: "Component",
        observations: [
          "PostgreSQL æ•°æ®åº“",
          "å­˜å‚¨ç”¨æˆ·ä¿¡æ¯å’Œä¼šè¯æ•°æ®"
        ]
      }
    ]
  }
});
```

---

### Phase 2: åˆ›å»ºå…³ç³»

**åŠŸèƒ½**: å»ºç«‹å®ä½“ä¹‹é—´çš„å…³ç³»

**æ‰§è¡Œåˆ›å»º**:
```typescript
await airis-exec({
  tool: "memory:create_relations",
  arguments: {
    relations: [
      {
        from: "UserService",
        to: "Database",
        relationType: "dependsOn"
      },
      {
        from: "Next.js",
        to: "React",
        relationType: "uses"
      }
    ]
  }
});
```

**å‚æ•°è¯´æ˜**:
- `relations` (å¿…éœ€) - å…³ç³»æ•°ç»„
  - `from` (å¿…éœ€) - æºå®ä½“åç§°
  - `to` (å¿…éœ€) - ç›®æ ‡å®ä½“åç§°
  - `relationType` (å¿…éœ€) - å…³ç³»ç±»å‹

**æ”¯æŒçš„å…³ç³»ç±»å‹**:
- `dependsOn` - ä¾èµ–å…³ç³»ï¼ˆA ä¾èµ– Bï¼‰
- `uses` - ä½¿ç”¨å…³ç³»ï¼ˆA ä½¿ç”¨ Bï¼‰
- `includes` - åŒ…å«å…³ç³»ï¼ˆA åŒ…å« Bï¼‰
- `implements` - å®ç°å…³ç³»ï¼ˆA å®ç° Bï¼‰
- `extends` - ç»§æ‰¿å…³ç³»ï¼ˆA ç»§æ‰¿ Bï¼‰
- `relatedTo` - ç›¸å…³å…³ç³»ï¼ˆA ä¸ B ç›¸å…³ï¼‰

---

### Phase 3: æŸ¥è¯¢çŸ¥è¯†å›¾è°±

**åŠŸèƒ½**: æœç´¢å’Œæµè§ˆçŸ¥è¯†å›¾è°±

**æœç´¢èŠ‚ç‚¹**:
```typescript
const searchResult = await airis-exec({
  tool: "memory:search_nodes",
  arguments: {
    query: "UserService",
    limit: 10
  }
});
```

**è¿”å›ç»“æœ**:
```json
{
  "nodes": [
    {
      "name": "UserService",
      "entityType": "Component",
      "observations": [...],
      "relations": [
        {"to": "Database", "type": "dependsOn"}
      ]
    }
  ]
}
```

---

## ğŸ“‹ è·¯å¾„ 2: é¡¹ç›®è®°å¿†ï¼ˆSerena MCPï¼‰

### Phase 1: å†™å…¥è®°å¿†

**åŠŸèƒ½**: ä¿å­˜æ–‡æ¡£åŒ–çš„é¡¹ç›®çŸ¥è¯†

**âš ï¸ å…³é”®é™·é˜±ï¼šå‚æ•°åç§°æ˜¯ memory_file_name**

```typescript
// âŒ é”™è¯¯ï¼šä½¿ç”¨ filename
await airis-exec({
  tool: "serena:write_memory",
  arguments: {
    filename: "architecture-decision.md",  // é”™è¯¯å‚æ•°å
    content: "..."
  }
});

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ memory_file_name
await airis-exec({
  tool: "serena:write_memory",
  arguments: {
    memory_file_name: "architecture-decision.md",  // æ­£ç¡®å‚æ•°å
    content: `# æ¶æ„å†³ç­–è®°å½•

## èƒŒæ™¯
æˆ‘ä»¬éœ€è¦é€‰æ‹©å‰ç«¯æ¡†æ¶...

## å†³ç­–
é€‰æ‹© Next.js ä½œä¸ºä¸»è¦æ¡†æ¶

## ç†ç”±
1. æœåŠ¡ç«¯æ¸²æŸ“æ”¯æŒ
2. ä¼˜ç§€çš„å¼€å‘ä½“éªŒ
3. å¼ºå¤§çš„ç¤¾åŒºç”Ÿæ€

---
**æ—¥æœŸ**: ${new Date().toISOString().split('T')[0]}
`
  }
});
```

**å‚æ•°è¯´æ˜**:
- `memory_file_name` (å¿…éœ€) - è®°å¿†æ–‡ä»¶åï¼ˆä¼šä¿å­˜åˆ° `.serena/memories/` ç›®å½•ï¼‰
- `content` (å¿…éœ€) - Markdown æ ¼å¼çš„å†…å®¹

**è®°å¿†æ–‡ä»¶å‘½åè§„èŒƒ**:
- ä½¿ç”¨è¯­ä¹‰åŒ–åç§°ï¼š`topic-subtopic-date.md`
- ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦
- æ·»åŠ æ—¥æœŸåç¼€ä¾¿äºè¿½è¸ª
- ç¤ºä¾‹ï¼š
  - `architecture-decision-2025-12-30.md`
  - `react-hooks-learning-notes.md`
  - `api-design-best-practices.md`

---

### Phase 2: åˆ—å‡ºè®°å¿†

**åŠŸèƒ½**: æŸ¥çœ‹æ‰€æœ‰å·²ä¿å­˜çš„è®°å¿†æ–‡ä»¶

```typescript
const memoryList = await airis-exec({
  tool: "serena:list_memories",
  arguments: {}
});
```

**è¿”å›ç»“æœ**:
```json
{
  "memories": [
    {
      "name": "architecture-decision.md",
      "path": ".serena/memories/architecture-decision.md",
      "size": 1024,
      "modified": "2025-12-30T10:30:00Z"
    }
  ]
}
```

---

### Phase 3: è¯»å–è®°å¿†

**åŠŸèƒ½**: è¯»å–ç‰¹å®šçš„è®°å¿†æ–‡ä»¶å†…å®¹

```typescript
const memoryContent = await airis-exec({
  tool: "serena:read_memory",
  arguments: {
    memory_file_name: "architecture-decision.md"
  }
});
```

**è¿”å›ç»“æœ**:
```json
{
  "content": "# æ¶æ„å†³ç­–è®°å½•\n\n..."
}
```

---

## ğŸ’» å®Œæ•´ç¤ºä¾‹

### ç¤ºä¾‹ 1: æ„å»ºå¾®æœåŠ¡çŸ¥è¯†å›¾è°±

**ç”¨æˆ·éœ€æ±‚**:
```
"åˆ›å»ºä¸€ä¸ªçŸ¥è¯†å›¾è°±ï¼Œè®°å½•æˆ‘ä»¬å¾®æœåŠ¡æ¶æ„ä¸­çš„ 3 ä¸ªæ ¸å¿ƒæœåŠ¡åŠå…¶ä¾èµ–"
```

**æ‰§è¡Œæ­¥éª¤**:

```typescript
// Step 1: åˆ›å»ºæœåŠ¡å®ä½“
await airis-exec({
  tool: "memory:create_entities",
  arguments: {
    entities: [
      {
        name: "UserService",
        entityType: "Component",
        observations: [
          "ç”¨æˆ·è®¤è¯å’ŒæˆæƒæœåŠ¡",
          "æä¾› JWT ä»¤ç‰Œç”Ÿæˆ",
          "ç«¯å£: 3001"
        ]
      },
      {
        name: "OrderService",
        entityType: "Component",
        observations: [
          "è®¢å•ç®¡ç†æœåŠ¡",
          "å¤„ç†è®¢å•åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°",
          "ç«¯å£: 3002"
        ]
      },
      {
        name: "PaymentService",
        entityType: "Component",
        observations: [
          "æ”¯ä»˜å¤„ç†æœåŠ¡",
          "é›†æˆç¬¬ä¸‰æ–¹æ”¯ä»˜ç½‘å…³",
          "ç«¯å£: 3003"
        ]
      },
      {
        name: "PostgreSQL",
        entityType: "Component",
        observations: [
          "å…±äº«æ•°æ®åº“",
          "å­˜å‚¨ç”¨æˆ·ã€è®¢å•ã€æ”¯ä»˜æ•°æ®"
        ]
      },
      {
        name: "Redis",
        entityType: "Component",
        observations: [
          "ç¼“å­˜æœåŠ¡",
          "å­˜å‚¨ä¼šè¯å’Œä¸´æ—¶æ•°æ®"
        ]
      }
    ]
  }
});

// Step 2: åˆ›å»ºä¾èµ–å…³ç³»
await airis-exec({
  tool: "memory:create_relations",
  arguments: {
    relations: [
      {
        from: "UserService",
        to: "PostgreSQL",
        relationType: "dependsOn"
      },
      {
        from: "UserService",
        to: "Redis",
        relationType: "uses"
      },
      {
        from: "OrderService",
        to: "PostgreSQL",
        relationType: "dependsOn"
      },
      {
        from: "OrderService",
        to: "UserService",
        relationType: "dependsOn"
      },
      {
        from: "PaymentService",
        to: "PostgreSQL",
        relationType: "dependsOn"
      },
      {
        from: "PaymentService",
        to: "OrderService",
        relationType: "dependsOn"
      }
    ]
  }
});

// Step 3: éªŒè¯çŸ¥è¯†å›¾è°±
const graphCheck = await airis-exec({
  tool: "memory:search_nodes",
  arguments: {
    query: "Service",
    limit: 10
  }
});

console.log(`âœ… åˆ›å»ºäº† ${graphCheck.nodes.length} ä¸ªæœåŠ¡èŠ‚ç‚¹`);
```

**é¢„æœŸè¾“å‡º**:
```
âœ… çŸ¥è¯†å›¾è°±åˆ›å»ºå®Œæˆ
- 5 ä¸ªå®ä½“ï¼š3 ä¸ªæœåŠ¡ + 2 ä¸ªåŸºç¡€è®¾æ–½
- 6 ä¸ªå…³ç³»ï¼šä¾èµ–é“¾æ¸…æ™°
```

---

### ç¤ºä¾‹ 2: ç»„åˆä½¿ç”¨ Memory + Serena

**ç”¨æˆ·éœ€æ±‚**:
```
"è®°å½•ä»Šå¤©çš„æŠ€æœ¯é€‰å‹è®¨è®ºï¼ŒåŒ…æ‹¬æ¦‚å¿µå…³ç³»å’Œè¯¦ç»†æ–‡æ¡£"
```

**æ‰§è¡Œæ­¥éª¤**:

```typescript
// Step 1: ä½¿ç”¨ Memory åˆ›å»ºæŠ€æœ¯æ ˆå®ä½“å’Œå…³ç³»
await airis-exec({
  tool: "memory:create_entities",
  arguments: {
    entities: [
      {
        name: "Next.js",
        entityType: "Product",
        observations: ["React æ¡†æ¶", "SSR æ”¯æŒ", "v14"]
      },
      {
        name: "TypeScript",
        entityType: "Product",
        observations: ["ç±»å‹å®‰å…¨", "v5.0"]
      },
      {
        name: "Tailwind CSS",
        entityType: "Product",
        observations: ["å®ç”¨ä¼˜å…ˆ CSS", "v3.4"]
      }
    ]
  }
});

await airis-exec({
  tool: "memory:create_relations",
  arguments: {
    relations: [
      { from: "Next.js", to: "React", relationType: "uses" },
      { from: "Next.js", to: "TypeScript", relationType: "uses" },
      { from: "Next.js", to: "Tailwind CSS", relationType: "uses" }
    ]
  }
});

// Step 2: ä½¿ç”¨ Serena ä¿å­˜è¯¦ç»†å†³ç­–æ–‡æ¡£
await airis-exec({
  tool: "serena:write_memory",
  arguments: {
    memory_file_name: "tech-stack-decision-2025-12-30.md",
    content: `# æŠ€æœ¯æ ˆé€‰å‹å†³ç­–

## èƒŒæ™¯
ä¸ºæ–°é¡¹ç›®é€‰æ‹©å‰ç«¯æŠ€æœ¯æ ˆ

## å†³ç­–
- **æ¡†æ¶**: Next.js 14
- **è¯­è¨€**: TypeScript 5.0
- **æ ·å¼**: Tailwind CSS 3.4

## ç†ç”±

### Next.js
- æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSEO ä¼˜åŒ–ï¼‰
- App Routerï¼ˆæœ€æ–°è·¯ç”±ç³»ç»Ÿï¼‰
- ä¼˜ç§€çš„å¼€å‘ä½“éªŒ

### TypeScript
- ç±»å‹å®‰å…¨
- æ›´å¥½çš„ IDE æ”¯æŒ
- å‡å°‘è¿è¡Œæ—¶é”™è¯¯

### Tailwind CSS
- å¿«é€ŸåŸå‹å¼€å‘
- ä¸€è‡´çš„è®¾è®¡ç³»ç»Ÿ
- ä¼˜ç§€çš„æ€§èƒ½

## ä¾èµ–å…³ç³»
\`\`\`
Next.js
  â”œâ”€ uses â†’ React
  â”œâ”€ uses â†’ TypeScript
  â””â”€ uses â†’ Tailwind CSS
\`\`\`

## å‚è€ƒèµ„æ–™
- [Next.js å®˜æ–¹æ–‡æ¡£](https://nextjs.org)
- [TypeScript æ‰‹å†Œ](https://www.typescriptlang.org)
- [Tailwind CSS æ–‡æ¡£](https://tailwindcss.com)

---
**å†³ç­–æ—¥æœŸ**: 2025-12-30
**å‚ä¸äººå‘˜**: æ¶æ„å›¢é˜Ÿ
**çŠ¶æ€**: å·²æ‰¹å‡†
`
  }
});
```

**é¢„æœŸè¾“å‡º**:
```
âœ… çŸ¥è¯†ç®¡ç†å®Œæˆ
- Memory: åˆ›å»ºäº† 3 ä¸ªæŠ€æœ¯æ ˆå®ä½“å’Œ 3 ä¸ªå…³ç³»
- Serena: ä¿å­˜äº†è¯¦ç»†å†³ç­–æ–‡æ¡£åˆ° tech-stack-decision-2025-12-30.md
```

---

## âš ï¸ å¸¸è§é™·é˜±å’Œè§£å†³æ–¹æ¡ˆ

### é™·é˜± 1: Memory å®ä½“ç¼ºå°‘ observations

**é”™è¯¯ç°è±¡**:
```
Error: 'observations' is required for each entity
```

**åŸå› åˆ†æ**:
Memory MCP è¦æ±‚æ¯ä¸ªå®ä½“å¿…é¡»æœ‰è‡³å°‘ 1 ä¸ª observationï¼ˆè§‚å¯Ÿ/æè¿°ï¼‰

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// âŒ é”™è¯¯ï¼šç¼ºå°‘ observations
{
  name: "React",
  entityType: "Framework"
}

// âœ… æ­£ç¡®ï¼šåŒ…å« observations
{
  name: "React",
  entityType: "Framework",
  observations: [
    "JavaScript UI åº“",
    "ç”± Facebook ç»´æŠ¤"
  ]
}
```

---

### é™·é˜± 2: Serena å‚æ•°åç§°é”™è¯¯

**é”™è¯¯ç°è±¡**:
```
Error: Unknown parameter 'filename'
```

**åŸå› åˆ†æ**:
Serena MCP ä½¿ç”¨ `memory_file_name` è€Œéæ ‡å‡†çš„ `filename`

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// âŒ é”™è¯¯
{ filename: "notes.md" }

// âœ… æ­£ç¡®
{ memory_file_name: "notes.md" }
```

---

### é™·é˜± 3: å…³ç³»ç±»å‹ä¸æ˜ç¡®

**é”™è¯¯ç°è±¡**:
åˆ›å»ºçš„å…³ç³»æ— æ³•å‡†ç¡®è¡¨è¾¾å®ä½“é—´çš„å…³ç³»

**åŸå› åˆ†æ**:
ä½¿ç”¨äº†è¿‡äºå®½æ³›çš„å…³ç³»ç±»å‹ï¼ˆå¦‚ `relatedTo`ï¼‰ï¼Œæ— æ³•æ¸…æ™°è¡¨è¾¾å…·ä½“å…³ç³»

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// âŒ ä¸æ¨èï¼šå…³ç³»ä¸æ˜ç¡®
{
  from: "UserService",
  to: "Database",
  relationType: "relatedTo"  // å¤ªå®½æ³›
}

// âœ… æ¨èï¼šæ˜ç¡®çš„å…³ç³»
{
  from: "UserService",
  to: "Database",
  relationType: "dependsOn"  // æ¸…æ™°çš„ä¾èµ–å…³ç³»
}

// é€‰æ‹©åˆé€‚çš„å…³ç³»ç±»å‹ï¼š
// - dependsOn: å¼ºä¾èµ–ï¼ˆA æ—  B æ— æ³•è¿è¡Œï¼‰
// - uses: ä½¿ç”¨å…³ç³»ï¼ˆA è°ƒç”¨ B çš„åŠŸèƒ½ï¼‰
// - includes: åŒ…å«å…³ç³»ï¼ˆA æ˜¯ B çš„å®¹å™¨ï¼‰
// - implements: å®ç°å…³ç³»ï¼ˆA å®ç°äº† B çš„æ¥å£ï¼‰
// - extends: ç»§æ‰¿å…³ç³»ï¼ˆA ç»§æ‰¿ Bï¼‰
```

---

## ğŸ”Œ AIRIS MCP Gateway æ ‡å‡†è®¿é—®æ¨¡å¼ï¼ˆå®Œæ•´ç‰ˆï¼‰

æœ¬ç« èŠ‚å±•ç¤ºå®Œæ•´çš„ AIRIS MCP Gateway è®¿é—®æ¨¡å¼ï¼Œç¡®ä¿å·¥å…·ä½¿ç”¨çš„æ ‡å‡†åŒ–å’Œå¯é æ€§ã€‚

### å››æ­¥æ ‡å‡†åŒ–å·¥ä½œæµ

#### Step 1: å·¥å…·å‘ç° (airis-find)

ä½¿ç”¨ `airis-find` å‘ç° Memory å’Œ Serena æä¾›çš„å·¥å…·ï¼š

```typescript
// å‘ç° Memory å·¥å…·ï¼ˆçŸ¥è¯†å›¾è°±ï¼‰
const memoryTools = await airis-find({
  query: "memory"
});
console.log("Memory å·¥å…·:", memoryTools.map(t => t.name));
// è¾“å‡º: ["memory:create_entities", "memory:create_relations", "memory:search_nodes", ...]

// å‘ç° Serena å·¥å…·ï¼ˆé¡¹ç›®è®°å¿†ï¼‰
const serenaTools = await airis-find({
  query: "serena memory"
});
console.log("Serena è®°å¿†å·¥å…·:", serenaTools.map(t => t.name));
// è¾“å‡º: ["serena:write_memory", "serena:read_memory", "serena:list_memories", ...]
```

**ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸€æ­¥ï¼Ÿ**
- å‘ç° Memory å’Œ Serena çš„å¯ç”¨å·¥å…·
- ç¡®è®¤å·¥å…·åç§°æ‹¼å†™æ­£ç¡®
- æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„ MCP æœåŠ¡å™¨

---

#### Step 2: å‚æ•°éªŒè¯ (airis-schema)

åœ¨æ‰§è¡Œå‰ï¼Œä½¿ç”¨ `airis-schema` æ£€æŸ¥å·¥å…·çš„å‚æ•°è¦æ±‚ï¼š

```typescript
// æ£€æŸ¥ Memory create_entities å‚æ•°
const createEntitiesSchema = await airis-schema({
  tool: "memory:create_entities"
});
console.log("å¿…éœ€å‚æ•°:", createEntitiesSchema.inputSchema.required);
// è¾“å‡º: ["entities"]
// æ³¨æ„ï¼šentities æ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡å¿…é¡»åŒ…å« observations

// æ£€æŸ¥ Serena write_memory å‚æ•°
const writeMemorySchema = await airis-schema({
  tool: "serena:write_memory"
});
console.log("Serena å‚æ•°:", writeMemorySchema.inputSchema.required);
// è¾“å‡º: ["memory_file_name", "content"]
```

**å¸¸è§å‚æ•°å‘½åé™·é˜±**ï¼ˆæœ¬ skill æ¶‰åŠï¼‰:
- âš ï¸ Memory: `entities` æ•°ç»„ä¸­æ¯ä¸ªå®ä½“å¿…é¡»åŒ…å« `observations` å­—æ®µ
- âš ï¸ Serena: å‚æ•°åæ˜¯ `memory_file_name`ï¼ˆä¸æ˜¯ `filename`ï¼‰
- âš ï¸ Memory: `entityType` å¿…é¡»æ˜¯æ ‡å‡†ç±»å‹ï¼ˆConcept, Component, Person, Product, Documentï¼‰
- âš ï¸ Memory: `relationType` å¿…é¡»æ˜¯æ ‡å‡†ç±»å‹ï¼ˆdepends-on, part-of, related-to, uses, includes, implementsï¼‰

é€šè¿‡ `airis-schema` å¯ä»¥é¿å… 90% çš„å‚æ•°é”™è¯¯ï¼

---

#### Step 3: æ‰§è¡Œå·¥å…· (airis-exec)

éªŒè¯å‚æ•°åï¼Œä½¿ç”¨ `airis-exec` æ‰§è¡Œå·¥å…·ï¼ˆå·²åœ¨ä¸Šé¢çš„å·¥ä½œæµç¨‹ä¸­è¯¦ç»†è¯´æ˜ï¼‰ã€‚

---

#### Step 4: å¥åº·æ£€æŸ¥ (gateway-control)

åœ¨æ‰§è¡Œå·¥å…·å‰ï¼Œæ£€æŸ¥ AIRIS MCP Gateway çŠ¶æ€ï¼š

```typescript
// æ£€æŸ¥ Gateway å¥åº·çŠ¶æ€
const health = await airis-exec({
  tool: "gateway-control:health"
});

if (!health.ok) {
  throw new Error("AIRIS MCP Gateway ä¸å¯ç”¨ï¼Œè¯·æ£€æŸ¥ Gateway æ˜¯å¦æ­£åœ¨è¿è¡Œ");
}

// åˆ—å‡ºå¯ç”¨çš„ MCP æœåŠ¡å™¨
const servers = await airis-exec({
  tool: "gateway-control:list-servers"
});

// éªŒè¯ Memory å’Œ Serena å·²å®‰è£…
const requiredServers = ["memory", "serena"];
for (const serverName of requiredServers) {
  const server = servers.find(s => s.name === serverName);

  if (!server) {
    throw new Error(`æœåŠ¡å™¨ ${serverName} æœªå®‰è£…`);
  }

  if (server.mode === "HOT" && server.ready) {
    console.log(`âœ… ${serverName} å·²å°±ç»ªï¼ˆHOT æ¨¡å¼ï¼‰`);
  } else if (server.mode === "COLD") {
    if (!server.ready) {
      console.log(`â³ ç­‰å¾… ${serverName} å¯åŠ¨ï¼ˆCOLD æ¨¡å¼ï¼‰...`);
      await sleep(3000);
    }
    console.log(`âœ… ${serverName} å·²å°±ç»ªï¼ˆCOLD æ¨¡å¼ï¼‰`);
  }
}
```

**ä»€ä¹ˆæ—¶å€™éœ€è¦å¥åº·æ£€æŸ¥ï¼Ÿ**
- âœ… é¦–æ¬¡ä½¿ç”¨ Memory æˆ– Serena
- âœ… æ‰¹é‡åˆ›å»ºå®ä½“å’Œå…³ç³»
- âœ… ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- âš ï¸ å•æ¬¡å¿«é€Ÿæ“ä½œæ—¶å¯ä»¥è·³è¿‡ï¼ˆä½†è¦å¤„ç†é”™è¯¯ï¼‰

---

### å®Œæ•´ç¤ºä¾‹ï¼šç«¯åˆ°ç«¯æ ‡å‡†åŒ–å·¥ä½œæµ

```typescript
async function standardizedKnowledgeManagement(
  entities: any[],
  memoryFileName: string,
  content: string
) {
  // Step 1: å¥åº·æ£€æŸ¥
  const health = await airis-exec({
    tool: "gateway-control:health"
  });

  if (!health.ok) {
    throw new Error("Gateway ä¸å¯ç”¨");
  }

  // Step 2: å‘ç°å·¥å…·
  const memoryTools = await airis-find({ query: "memory" });
  const serenaTools = await airis-find({ query: "serena" });
  console.log(`Memory: ${memoryTools.length} å·¥å…·, Serena: ${serenaTools.length} å·¥å…·`);

  // Step 3: éªŒè¯å‚æ•°
  const entitiesSchema = await airis-schema({
    tool: "memory:create_entities"
  });

  // Step 4: åˆ›å»ºçŸ¥è¯†å›¾è°±å®ä½“
  const createdEntities = await airis-exec({
    tool: "memory:create_entities",
    arguments: {
      entities: entities // æ¯ä¸ªå®ä½“å¿…é¡»åŒ…å« observations
    }
  });

  console.log(`âœ… åˆ›å»ºäº† ${createdEntities.length} ä¸ªå®ä½“`);

  // Step 5: ä¿å­˜è¯¦ç»†æ–‡æ¡£åˆ° Serena
  await airis-exec({
    tool: "serena:write_memory",
    arguments: {
      memory_file_name: memoryFileName,
      content: content
    }
  });

  console.log(`âœ… æ–‡æ¡£å·²ä¿å­˜: ${memoryFileName}`);

  return { entities: createdEntities };
}
```

---

## âš™ï¸ æœåŠ¡è¿è¡Œæ¨¡å¼

### MCP æœåŠ¡å™¨ç‰¹æ€§

æœ¬ skill ä½¿ç”¨ 2 ä¸ª MCP æœåŠ¡å™¨ï¼Œè¿è¡Œæ¨¡å¼ä¸åŒï¼š

| æœåŠ¡å™¨ | å·¥å…·æ•° | è¿è¡Œæ¨¡å¼ | å¯åŠ¨å»¶è¿Ÿ | é¦–æ¬¡è°ƒç”¨å»ºè®® |
|--------|--------|---------|---------|-------------|
| **memory** | 9 | HOT ğŸ”¥ | æ— å»¶è¿Ÿ | å³æ—¶å¯ç”¨ |
| **serena** | 23 | COLD â„ï¸ | 2-5 ç§’ | ä½¿ç”¨å‰æ£€æŸ¥å¥åº·çŠ¶æ€ |

### æ··åˆæ¨¡å¼è¯´æ˜

**æœ¬ skill çš„ç‰¹æ®Šæ€§**:
- Memory (HOT) + Serena (COLD) æ··åˆä½¿ç”¨
- Memory æ“ä½œå³æ—¶å“åº”ï¼ŒSerena é¦–æ¬¡è°ƒç”¨éœ€ç­‰å¾…
- å»ºè®®å…ˆæ“ä½œ Memoryï¼ˆæ— å»¶è¿Ÿï¼‰ï¼Œå†æ“ä½œ Serenaï¼ˆå¯èƒ½æœ‰å»¶è¿Ÿï¼‰

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### å¯¹äº HOT æ¨¡å¼æœåŠ¡å™¨ï¼ˆMemoryï¼‰:

1. **å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œæ— éœ€é¢„çƒ­**
   ```typescript
   // âœ… ç›´æ¥è°ƒç”¨ Memoryï¼Œæ— éœ€ç­‰å¾…
   const entities = await airis-exec({
     tool: "memory:create_entities",
     arguments: { entities: [...] }
   });
   ```

2. **é€‚åˆé«˜é¢‘ç‡è°ƒç”¨**
   ```typescript
   // âœ… æ‰¹é‡åˆ›å»ºå®ä½“ï¼Œæ‰€æœ‰è°ƒç”¨éƒ½æ˜¯å³æ—¶å“åº”
   for (const entity of entities) {
     await airis-exec({
       tool: "memory:create_entities",
       arguments: { entities: [entity] }
     });
   }
   ```

#### å¯¹äº COLD æ¨¡å¼æœåŠ¡å™¨ï¼ˆSerenaï¼‰:

1. **é¦–æ¬¡è°ƒç”¨å‰é¢„æœŸå»¶è¿Ÿ**
   ```typescript
   // é¦–æ¬¡è°ƒç”¨ Serena å¯èƒ½éœ€è¦ç­‰å¾…
   try {
     const result = await airis-exec({
       tool: "serena:write_memory",
       arguments: { memory_file_name: "...", content: "..." }
     });
   } catch (error) {
     if (error.message.includes("server not ready")) {
       console.log("Serena æ­£åœ¨å¯åŠ¨ï¼Œç­‰å¾… 3 ç§’åé‡è¯•...");
       await sleep(3000);
       // é‡è¯•
     }
   }
   ```

2. **æ‰¹é‡æ“ä½œæ—¶å¤ç”¨æœåŠ¡**
   ```typescript
   // âœ… æ‰¹é‡å†™å…¥ï¼Œé¦–æ¬¡è°ƒç”¨å Serena å·²å¯åŠ¨
   const files = ["doc1.md", "doc2.md", "doc3.md"];
   for (const file of files) {
     await airis-exec({
       tool: "serena:write_memory",
       arguments: {
         memory_file_name: file,
         content: generateContent(file)
       }
     });
   }
   ```

---

## ğŸ”„ ç»Ÿä¸€é”™è¯¯å¤„ç†

### é”™è¯¯åˆ†ç±»ä½“ç³»

æœ¬ skill çš„é”™è¯¯å¯åˆ†ä¸º 4 å¤§ç±»ï¼š

#### 1. å‚æ•°é”™è¯¯ â†’ ä½¿ç”¨ airis-schema é¢„éªŒè¯

**å…¸å‹é”™è¯¯**:
```
Error: 'observations' is required in entities
Error: Parameter 'filename' should be 'memory_file_name'
Error: Invalid entityType
Error: Invalid relationType
```

**å¤„ç†ç­–ç•¥**:
```typescript
// âœ… æ¨èï¼šæ‰§è¡Œå‰éªŒè¯
const entitiesSchema = await airis-schema({
  tool: "memory:create_entities"
});

// æ£€æŸ¥ observations å­—æ®µ
for (const entity of entities) {
  if (!entity.observations || entity.observations.length === 0) {
    throw new Error(`å®ä½“ "${entity.name}" ç¼ºå°‘ observations å­—æ®µ`);
  }
}

// æ£€æŸ¥ entityType
const validEntityTypes = ["Concept", "Component", "Person", "Product", "Document"];
for (const entity of entities) {
  if (!validEntityTypes.includes(entity.entityType)) {
    throw new Error(`æ— æ•ˆçš„ entityType: ${entity.entityType}`);
  }
}

// æ‰§è¡Œåˆ›å»º
await airis-exec({
  tool: "memory:create_entities",
  arguments: { entities: entities }
});
```

**é¢„é˜²æªæ–½**:
- Memory: æ€»æ˜¯ä¸ºå®ä½“æä¾› `observations` æ•°ç»„
- Serena: ä½¿ç”¨ `memory_file_name` è€Œé `filename`
- Memory: ä½¿ç”¨æ ‡å‡†çš„ `entityType` å’Œ `relationType`
- ä½¿ç”¨ `airis-schema` éªŒè¯å‚æ•°ç»“æ„

---

#### 2. Gateway é”™è¯¯ â†’ æ£€æŸ¥å¥åº·çŠ¶æ€

**å…¸å‹é”™è¯¯**:
```
Error: Failed to connect to AIRIS MCP Gateway
Error: Memory/Serena not found
```

**å¤„ç†ç­–ç•¥**:
```typescript
try {
  const health = await airis-exec({
    tool: "gateway-control:health"
  });

  if (!health.ok) {
    throw new Error("Gateway ä¸å¥åº·");
  }

  // éªŒè¯ Memory å’Œ Serena å¯ç”¨
  const servers = await airis-exec({
    tool: "gateway-control:list-servers"
  });

  const requiredServers = ["memory", "serena"];
  const missingServers = requiredServers.filter(
    name => !servers.find(s => s.name === name)
  );

  if (missingServers.length > 0) {
    throw new Error(`ç¼ºå°‘æœåŠ¡å™¨: ${missingServers.join(", ")}`);
  }

} catch (error) {
  console.error("Gateway é”™è¯¯:", error.message);

  throw new Error(`
    AIRIS MCP Gateway ä¸å¯ç”¨ã€‚è¯·æ£€æŸ¥ï¼š
    1. Gateway æ˜¯å¦æ­£åœ¨è¿è¡Œ
    2. Memory å’Œ Serena æ˜¯å¦å·²å®‰è£…
    3. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
  `);
}
```

---

#### 3. å·¥å…·æ‰§è¡Œé”™è¯¯ â†’ å…·ä½“é”™è¯¯å…·ä½“å¤„ç†

**å…¸å‹é”™è¯¯**:
```
Error: Entity already exists
Error: Relation target not found
Error: Memory file too large
```

**å¤„ç†ç­–ç•¥**:

**å®ä½“å·²å­˜åœ¨**:
```typescript
try {
  await airis-exec({
    tool: "memory:create_entities",
    arguments: {
      entities: [{ name: "React", entityType: "Framework", observations: ["..."] }]
    }
  });
} catch (error) {
  if (error.message.includes("already exists")) {
    console.log("å®ä½“å·²å­˜åœ¨ï¼Œè·³è¿‡åˆ›å»º");
    // æˆ–è€…æ›´æ–°å®ä½“
  } else {
    throw error;
  }
}
```

**å…³ç³»ç›®æ ‡æœªæ‰¾åˆ°**:
```typescript
try {
  await airis-exec({
    tool: "memory:create_relations",
    arguments: {
      relations: [
        { from: "React", to: "Unknown", relationType: "depends-on" }
      ]
    }
  });
} catch (error) {
  if (error.message.includes("not found")) {
    console.log("ç›®æ ‡å®ä½“ä¸å­˜åœ¨ï¼Œå…ˆåˆ›å»ºå®ä½“");
    // å…ˆåˆ›å»ºç›®æ ‡å®ä½“ï¼Œå†åˆ›å»ºå…³ç³»
  } else {
    throw error;
  }
}
```

**Serena å†…å®¹è¿‡å¤§**:
```typescript
try {
  await airis-exec({
    tool: "serena:write_memory",
    arguments: {
      memory_file_name: "large-doc.md",
      content: largeContent
    }
  });
} catch (error) {
  if (error.message.includes("too large")) {
    // åˆ†æ®µä¿å­˜
    const chunks = splitContent(largeContent, 50000);
    for (const [i, chunk] of chunks.entries()) {
      await airis-exec({
        tool: "serena:write_memory",
        arguments: {
          memory_file_name: `large-doc-part-${i + 1}.md`,
          content: chunk
        }
      });
    }
  } else {
    throw error;
  }
}
```

---

#### 4. æœåŠ¡ä¸å¯ç”¨ â†’ éªŒè¯å®‰è£…å’Œé‡è¯•

**å…¸å‹é”™è¯¯**:
```
Error: Server 'memory' not found
Error: Server 'serena' not ready
```

**å¤„ç†ç­–ç•¥**:

**æœåŠ¡å™¨æœªå®‰è£…**:
```typescript
const servers = await airis-exec({
  tool: "gateway-control:list-servers"
});

const requiredServers = ["memory", "serena"];
const missingServers = requiredServers.filter(
  name => !servers.find(s => s.name === name)
);

if (missingServers.length > 0) {
  throw new Error(`
    ç¼ºå°‘å¿…éœ€çš„ MCP æœåŠ¡å™¨: ${missingServers.join(", ")}

    è¯·å®‰è£…ï¼š
    1. æ£€æŸ¥ AIRIS MCP Gateway é…ç½®
    2. å®‰è£… Memory å’Œ Serena MCP æœåŠ¡å™¨
    3. é‡å¯ Gateway
  `);
}
```

**Serena æœªå°±ç»ªï¼ˆCOLD æ¨¡å¼ï¼‰**:
```typescript
async function waitForSerenaReady(maxWaitTime = 10000) {
  const startTime = Date.now();

  while (Date.now() - startTime < maxWaitTime) {
    const servers = await airis-exec({
      tool: "gateway-control:list-servers"
    });

    const serena = servers.find(s => s.name === "serena");

    if (serena && serena.ready) {
      return true;
    }

    console.log(`â³ ç­‰å¾… Serena å°±ç»ª...`);
    await sleep(2000);
  }

  return false;
}

// ä½¿ç”¨ç¤ºä¾‹
const ready = await waitForSerenaReady();
if (!ready) {
  throw new Error("Serena æœåŠ¡å™¨å¯åŠ¨è¶…æ—¶");
}
```

---

### å®Œæ•´é”™è¯¯å¤„ç†ç¤ºä¾‹

```typescript
async function robustKnowledgeManagement(
  entities: any[],
  relations: any[],
  memoryFile: string,
  content: string
) {
  try {
    // 1. å¥åº·æ£€æŸ¥
    const health = await airis-exec({
      tool: "gateway-control:health"
    });

    if (!health.ok) {
      throw new Error("GATEWAY_UNHEALTHY");
    }

    // 2. éªŒè¯ Memory å’Œ Serena å¯ç”¨æ€§
    const servers = await airis-exec({
      tool: "gateway-control:list-servers"
    });

    const memory = servers.find(s => s.name === "memory");
    const serena = servers.find(s => s.name === "serena");

    if (!memory || !serena) {
      throw new Error("SERVERS_MISSING");
    }

    // 3. å‚æ•°éªŒè¯
    for (const entity of entities) {
      if (!entity.observations || entity.observations.length === 0) {
        throw new Error(`å®ä½“ "${entity.name}" ç¼ºå°‘ observations`);
      }
    }

    // 4. åˆ›å»ºå®ä½“ï¼ˆå¸¦é‡è¯•ï¼‰
    let createdEntities;
    try {
      createdEntities = await execWithRetry(
        "memory:create_entities",
        { entities: entities },
        3
      );
    } catch (error) {
      if (error.message.includes("already exists")) {
        console.log("éƒ¨åˆ†å®ä½“å·²å­˜åœ¨ï¼Œç»§ç»­...");
      } else {
        throw error;
      }
    }

    // 5. åˆ›å»ºå…³ç³»ï¼ˆå¸¦é‡è¯•ï¼‰
    if (relations.length > 0) {
      await execWithRetry(
        "memory:create_relations",
        { relations: relations },
        3
      );
    }

    // 6. ä¿å­˜åˆ° Serenaï¼ˆå¸¦é‡è¯•å’Œåˆ†æ®µå¤„ç†ï¼‰
    if (content.length > 50000) {
      const chunks = splitContent(content, 50000);
      for (const [i, chunk] of chunks.entries()) {
        await airis-exec({
          tool: "serena:write_memory",
          arguments: {
            memory_file_name: `${memoryFile}-part-${i + 1}.md`,
            content: chunk
          }
        });
      }
    } else {
      await airis-exec({
        tool: "serena:write_memory",
        arguments: {
          memory_file_name: memoryFile,
          content: content
        }
      });
    }

    return { entities: createdEntities, relations: relations.length };

  } catch (error) {
    // ç»Ÿä¸€é”™è¯¯å¤„ç†
    console.error("çŸ¥è¯†ç®¡ç†å¤±è´¥:", error);

    if (error.message === "GATEWAY_UNHEALTHY") {
      throw new Error("AIRIS MCP Gateway ä¸å¯ç”¨");
    } else if (error.message === "SERVERS_MISSING") {
      throw new Error("Memory æˆ– Serena æœªå®‰è£…");
    } else if (error.message.includes("observations")) {
      throw new Error("å®ä½“ç¼ºå°‘å¿…éœ€çš„ observations å­—æ®µ");
    } else {
      throw new Error(`æ“ä½œå¤±è´¥: ${error.message}`);
    }
  }
}
```

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

### References æ–‡ä»¶

æœ¬ skill åŒ…å«ä»¥ä¸‹å‚è€ƒæ–‡æ¡£ï¼ˆåœ¨ `references/` ç›®å½•ä¸­ï¼‰:

- **entity-types.md** (~60 è¡Œ) - å®ä½“ç±»å‹è¯¦è§£
  - å†…å®¹: 5 ç§å®ä½“ç±»å‹ï¼ˆConcept, Component, Person, Product, Documentï¼‰ã€ä½¿ç”¨åœºæ™¯ã€å‘½åè§„èŒƒ
  - ä½•æ—¶é˜…è¯»: ä¸ç¡®å®šåº”è¯¥ä½¿ç”¨å“ªç§å®ä½“ç±»å‹æ—¶

- **relation-patterns.md** (~60 è¡Œ) - å…³ç³»æ¨¡å¼æœ€ä½³å®è·µ
  - å†…å®¹: 6 ç§å…³ç³»ç±»å‹è¯¦è§£ã€ä½¿ç”¨åœºæ™¯ã€ç¤ºä¾‹æ¨¡å¼ã€å¸¸è§é”™è¯¯
  - ä½•æ—¶é˜…è¯»: éœ€è¦å»ºç«‹å¤æ‚å…³ç³»ç½‘ç»œæ—¶

---

## ğŸ”— ç›¸å…³èµ„æº

**MCP æœåŠ¡å™¨æ–‡æ¡£**:
- [Memory MCP](../../ai_workflow/docs/airis-mcp-gateway/servers/MEMORY.md) - çŸ¥è¯†å›¾è°±ç®¡ç†
- [Serena MCP](../../ai_workflow/docs/airis-mcp-gateway/servers/SERENA.md) - é¡¹ç›®è®°å¿†ç®¡ç†

**AIRIS MCP Gateway**:
- [å®Œæ•´æŒ‡å—](../../ai_workflow/docs/airis-mcp-gateway/README.md)
- [å¿«é€Ÿå‚è€ƒ](../../ai_workflow/docs/airis-mcp-gateway/QUICK_REFERENCE.md)

**ç›¸å…³ Skills**:
- airis-web-research - Web ç ”ç©¶å’Œå†…å®¹ä¿å­˜ï¼ˆSerena è®°å¿†ï¼‰
- airis-project-indexing - é¡¹ç›®ç´¢å¼•å’Œåˆ†æ

---

## ğŸ“Š æ€§èƒ½å’Œé™åˆ¶

**æ€§èƒ½è€ƒè™‘**:
- åˆ›å»ºå®ä½“: ~1-2 ç§’/æ‰¹æ¬¡ï¼ˆæ‰¹é‡åˆ›å»ºæ›´å¿«ï¼‰
- åˆ›å»ºå…³ç³»: ~1-2 ç§’/æ‰¹æ¬¡
- æœç´¢èŠ‚ç‚¹: ~2-3 ç§’/æŸ¥è¯¢
- Serena å†™å…¥: ~0.5-1 ç§’/æ–‡ä»¶
- **æ€»è€—æ—¶**: çº¦ 3-8 ç§’/å®Œæ•´æµç¨‹

**é™åˆ¶æ¡ä»¶**:
- Memory å®ä½“åç§°: å»ºè®® < 100 å­—ç¬¦
- Memory observations: å»ºè®®æ¯ä¸ªå®ä½“ 1-10 ä¸ªè§‚å¯Ÿ
- Serena è®°å¿†æ–‡ä»¶: å»ºè®® < 50KB/æ–‡ä»¶
- çŸ¥è¯†å›¾è°±è§„æ¨¡: å»ºè®® < 1000 ä¸ªå®ä½“ï¼ˆæ€§èƒ½è€ƒè™‘ï¼‰

**æœ€ä½³å®è·µ**:
- æ‰¹é‡åˆ›å»ºå®ä½“ï¼ˆä¸€æ¬¡è°ƒç”¨åˆ›å»ºå¤šä¸ªï¼‰è€Œéé€ä¸ªåˆ›å»º
- ä½¿ç”¨è¯­ä¹‰åŒ–çš„å®ä½“å‘½åï¼ˆæ˜“äºæœç´¢å’Œç†è§£ï¼‰
- å®šæœŸæ¸…ç†è¿‡æ—¶çš„çŸ¥è¯†å›¾è°±èŠ‚ç‚¹
- Serena è®°å¿†æ–‡ä»¶ä½¿ç”¨æ—¥æœŸåç¼€ä¾¿äºç‰ˆæœ¬è¿½è¸ª
- ç»„åˆä½¿ç”¨ Memoryï¼ˆç»“æ„åŒ–ï¼‰+ Serenaï¼ˆæ–‡æ¡£åŒ–ï¼‰è·å¾—æœ€ä½³æ•ˆæœ

---

**ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2025-12-30
**ä½œè€…**: Hao
